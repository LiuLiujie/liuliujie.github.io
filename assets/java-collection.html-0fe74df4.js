import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as i,a,b as n,e as t,d as s}from"./app-9e8a13db.js";const l={},u=s('<h1 id="java-collection" tabindex="-1"><a class="header-anchor" href="#java-collection" aria-hidden="true">#</a> Java Collection</h1><h2 id="_1-introduction" tabindex="-1"><a class="header-anchor" href="#_1-introduction" aria-hidden="true">#</a> 1. Introduction</h2><p>The Java collection can be roughly divided into four systems: Set, List, Queue and Map</p><ul><li><code>Set</code>: unordered and unrepeatable; æ— åºï¼Œä¸å¯é‡å¤</li><li><code>List</code>: ordered and repetable sets; æœ‰åºï¼Œå¯é‡å¤</li><li><code>Map</code>: collections with mapping relations; ä¸¤ä¸ªå…·æœ‰æ˜ å°„å…³ç³»çš„é›†åˆ</li><li><code>Queue</code>: First in first out list(Java 5) FIFOé˜Ÿåˆ—</li></ul><p>A Java collection is like a container that can &quot;throw&quot; multiple objects (actually references to objects, but they are customarily called objects) into the container. After the addition of generics in Java 5, the Java collection can remember the data types of objects in the container, making the encoding more concise and robust.</p><h3 id="collection-v-s-array" tabindex="-1"><a class="header-anchor" href="#collection-v-s-array" aria-hidden="true">#</a> Collection v.s. Array</h3><ol><li>Length: Array is a fixed length basic data type, and Collection is a dynamic class instance.</li><li>Data type: Array can be used for both basic type and instance, but Collection is only used for instance.</li></ol><h3 id="inheritance-relationship" tabindex="-1"><a class="header-anchor" href="#inheritance-relationship" aria-hidden="true">#</a> Inheritance relationship</h3><p>Java&#39;s collection classes are mainly derived from two interfaces.</p><ul><li><strong>Collection Interface</strong></li></ul><p><img src="https://pics.yujieliu.com/blog/2023/10/81368654af90ecf3bab1da679082ac0f.png" alt="collection-inheritance"></p><ul><li><strong>Map Interface</strong></li></ul><p>Every element in the implementation of Map is a <strong>key-value</strong> pair, which the key is unrepetable and identify the data.</p><p><img src="https://pics.yujieliu.com/blog/2023/10/a5988f11f5ea5b454b1254bd213c6a51.png" alt="map-interface"></p><h2 id="_2-collection-interface" tabindex="-1"><a class="header-anchor" href="#_2-collection-interface" aria-hidden="true">#</a> 2. Collection Interface</h2>',15),r={href:"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html",target:"_blank",rel:"noopener noreferrer"},d=s(`<h4 id="use-iterator-to-iterate-the-collection" tabindex="-1"><a class="header-anchor" href="#use-iterator-to-iterate-the-collection" aria-hidden="true">#</a> Use Iterator to iterate the collection</h4><p>Collection Interface is inherent from Iterator Interface, and Iterator Interface defines two function</p><ul><li><code>hasNext()</code>: if the collection has the next element, return <code>true</code></li><li><code>next()</code>: return the <strong>value</strong> of the next element</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IteratorExample</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//Create the collection</span>
        <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Day</span><span class="token punctuation">&gt;</span></span> days <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Day</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">Day</span> day <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Day</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>i<span class="token operator">*</span><span class="token number">60</span><span class="token punctuation">,</span>i<span class="token operator">*</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            days<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
      	<span class="token comment">//Get the iterator</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Day</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> days<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      	
      	<span class="token comment">//Iterate the collection</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">// Check if the collection has the next element</span>
            <span class="token class-name">Day</span> next <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Get the element</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Note:</strong> The iterator <strong>returns the value instead of the reference</strong> to the caller, so changing the value of the interacting variable will NOT change the corresponding element of the collection.</p><p><strong>æ³¨æ„ï¼š<strong>å½“ä½¿ç”¨Iteratorå¯¹é›†åˆå…ƒç´ è¿›è¡Œè¿­ä»£æ—¶ï¼ŒIteratorå¹¶ä¸æ˜¯æŠŠé›†åˆå…ƒç´ æœ¬èº«ä¼ ç»™äº†è¿­ä»£å˜é‡ï¼Œè€Œæ˜¯æŠŠé›†åˆå…ƒç´ çš„</strong>å€¼</strong>ä¼ ç»™äº†è¿­ä»£å˜é‡ï¼ˆå°±å¦‚åŒå‚æ•°ä¼ é€’æ˜¯å€¼ä¼ é€’ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¼ é€’çš„æ˜¯å€¼ï¼Œå¼•ç”¨ç±»å‹ä¼ é€’çš„ä»…ä»…æ˜¯å¯¹è±¡çš„å¼•ç”¨å˜é‡ï¼‰ï¼Œæ‰€ä»¥ä¿®æ”¹è¿­ä»£å˜é‡çš„å€¼å¯¹é›†åˆå…ƒç´ æœ¬èº«æ²¡æœ‰ä»»ä½•å½±å“ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IteratorExample</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;Java&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;C++&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">String</span> next <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            next <span class="token operator">=</span><span class="token string">&quot;Python&quot;</span><span class="token punctuation">;</span> <span class="token comment">// Will NOT change the element of the collection</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Python, Python, Python</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Java, C, C++</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-1-set-interface" tabindex="-1"><a class="header-anchor" href="#_2-1-set-interface" aria-hidden="true">#</a> 2.1. Set Interface</h3><p>No extra method definitions are added to <code>Set</code> Interface.</p><p>The <code>add()</code> will return <code>false</code> when trying to add a repeated element into a set.</p><h3 id="_2-2-list-interface" tabindex="-1"><a class="header-anchor" href="#_2-2-list-interface" aria-hidden="true">#</a> 2.2. List Interface</h3><h4 id="new-methods-crud-to-specific-position" tabindex="-1"><a class="header-anchor" href="#new-methods-crud-to-specific-position" aria-hidden="true">#</a> New methods: CRUD to specific position</h4><table><thead><tr><th>Modifier and Type</th><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>void</td><td>add(int index, Object element)</td><td>Add an element at the specific position</td></tr><tr><td>Object</td><td>get(int index)</td><td>Get the element at the specific position</td></tr><tr><td>int</td><td>indexOf(Object o)</td><td>Get the first position of the element</td></tr><tr><td>int</td><td>lastIndexOf(Object o)</td><td>Get the last position of the element</td></tr><tr><td>Object</td><td>remove(int index)</td><td>Remove the element at the specific position</td></tr><tr><td>Object</td><td>set(int index, Object element)</td><td>Replace the element at the specific position with the new element</td></tr><tr><td>List</td><td>subList(int fromIndex, int toIndex)</td><td>Return the sublist from <code>fromIndex</code> (included) to <code>toIndex</code> (not included)</td></tr><tr><td>void</td><td>replaceAll(UnaryOperator operator)</td><td>(Java 8) Operator the list with the defined rules from operator</td></tr><tr><td>void</td><td>sort(Comparator c)</td><td>(Java 8) Compare the elements using the comparator</td></tr></tbody></table><h3 id="_2-3-queue-interface" tabindex="-1"><a class="header-anchor" href="#_2-3-queue-interface" aria-hidden="true">#</a> 2.3. Queue Interface</h3><p>FIFO container, using <code>offer()</code> to insert an element to the last and using <code>poll()</code> to get the first element</p><h4 id="new-methods-peek-and-poll" tabindex="-1"><a class="header-anchor" href="#new-methods-peek-and-poll" aria-hidden="true">#</a> New methods: peek and poll</h4><table><thead><tr><th>Modifier and Type</th><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>boolean</td><td>offer(Object o)</td><td>Insert an element to the last of the queue</td></tr><tr><td>Object</td><td>peek()</td><td>Get but NOT remove the first element</td></tr><tr><td>Object</td><td>poll()</td><td>Get and remove the first element</td></tr></tbody></table><h2 id="_3-map-interface" tabindex="-1"><a class="header-anchor" href="#_3-map-interface" aria-hidden="true">#</a> 3. Map Interface</h2>`,18),k={href:"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html",target:"_blank",rel:"noopener noreferrer"},m=s(`<h3 id="typical-functions" tabindex="-1"><a class="header-anchor" href="#typical-functions" aria-hidden="true">#</a> Typical functions</h3><table><thead><tr><th>Modifier and Type</th><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>V</td><td>put(K key, V value)</td><td>Associates the value with the key</td></tr><tr><td>V</td><td>get(Object key)</td><td>Returns the value to which the key is mapped</td></tr><tr><td>V</td><td>Remove(Object key)</td><td>Removes the mapping for the key</td></tr><tr><td>default V</td><td>Replace(K key, V value)</td><td>Replaces the value for the key only if it existed.</td></tr><tr><td>Set&lt;K&gt;</td><td>keySet()</td><td>Returns all the keys</td></tr><tr><td>boolean</td><td>containsKey(Object key)</td><td>Returns <code>true</code> if this map contains a mapping for the specified key.</td></tr></tbody></table><h2 id="_4-set-implementation" tabindex="-1"><a class="header-anchor" href="#_4-set-implementation" aria-hidden="true">#</a> 4. Set Implementation</h2><h3 id="_4-1-hashset" tabindex="-1"><a class="header-anchor" href="#_4-1-hashset" aria-hidden="true">#</a> 4.1. HashSet</h3><h4 id="features" tabindex="-1"><a class="header-anchor" href="#features" aria-hidden="true">#</a> Features</h4><ul><li>Do NOT preserve the insertion order</li><li>NOT Thread-safe</li><li>Nullable</li><li>Using <code>equals()</code> and <code>hashCode()</code> to identify a object</li></ul><h4 id="equals-and-hashcode" tabindex="-1"><a class="header-anchor" href="#equals-and-hashcode" aria-hidden="true">#</a> Equals() and hashCode()</h4><ul><li><code>equals()</code><ul><li>If the class does NOT have an override <code>equals()</code> function, then we compare the two addresses of the objects are the same or not. Equivalent to <code>==</code></li><li>If the class override the <code>equals()</code> function, then we use this function.</li></ul></li><li><code>hashCode()</code>: an <code>int</code> to locate the index of the object in the hash table <ul><li>If the class does NOT have an override <code>hashCode</code> function, then we compare the two addresses of the objects are the same or not. Equivalent to <code>==</code></li><li>If the class override the <code>hashCode()</code> function, then we use this function.</li></ul></li></ul><table><thead><tr><th>Two objects</th><th>Same equal results</th><th>Different equal results</th></tr></thead><tbody><tr><td><strong>Same hashCode</strong></td><td>Not allowed to put</td><td>Save in the same position using a linked list (slow down the perf)</td></tr><tr><td><strong>Different hashCode</strong></td><td>Save in different position</td><td>Save in different position</td></tr></tbody></table><h4 id="linkedhashset" tabindex="-1"><a class="header-anchor" href="#linkedhashset" aria-hidden="true">#</a> LinkedHashSet</h4><p>The elements in a linkedHashSet is storage in <strong>sequence</strong> so it will have lower performance in insertion but better iteration performance.</p><h3 id="_4-2-treeset" tabindex="-1"><a class="header-anchor" href="#_4-2-treeset" aria-hidden="true">#</a> 4.2. TreeSet</h3><p>TreeSet is the implementation of <code>SortedSet</code> Interface, and it can make sure that all the elements in the set is sorted.</p><ul><li>NOT thread-safe</li></ul><h4 id="new-methods" tabindex="-1"><a class="header-anchor" href="#new-methods" aria-hidden="true">#</a> New methods</h4><ul><li>comparator():è¿”å›å¯¹æ­¤ set ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºçš„æ¯”è¾ƒå™¨ï¼›å¦‚æœæ­¤ set ä½¿ç”¨å…¶å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œåˆ™è¿”å›nullã€‚</li><li>first():è¿”å›æ­¤ set ä¸­å½“å‰ç¬¬ä¸€ä¸ªï¼ˆæœ€ä½ï¼‰å…ƒç´ ã€‚</li><li>last(): è¿”å›æ­¤ set ä¸­å½“å‰æœ€åä¸€ä¸ªï¼ˆæœ€é«˜ï¼‰å…ƒç´ ã€‚</li><li>lower(E e):è¿”å›æ­¤ set ä¸­ä¸¥æ ¼å°äºç»™å®šå…ƒç´ çš„æœ€å¤§å…ƒç´ ï¼›å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™è¿”å› nullã€‚</li><li>higher(E e):è¿”å›æ­¤ set ä¸­ä¸¥æ ¼å¤§äºç»™å®šå…ƒç´ çš„æœ€å°å…ƒç´ ï¼›å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™è¿”å› nullã€‚</li><li>subSet(E fromElement, E toElement):è¿”å›æ­¤ set çš„éƒ¨åˆ†è§†å›¾ï¼Œå…¶å…ƒç´ ä» fromElementï¼ˆåŒ…æ‹¬ï¼‰åˆ° toElementï¼ˆä¸åŒ…æ‹¬ï¼‰ã€‚</li><li>headSet(E toElement):è¿”å›æ­¤ set çš„éƒ¨åˆ†è§†å›¾ï¼Œå…¶å…ƒç´ å°äºtoElementã€‚</li><li>tailSet(E fromElement):è¿”å›æ­¤ set çš„éƒ¨åˆ†è§†å›¾ï¼Œå…¶å…ƒç´ å¤§äºç­‰äº fromElementã€‚</li></ul><h4 id="sorting-and-comparable-interface" tabindex="-1"><a class="header-anchor" href="#sorting-and-comparable-interface" aria-hidden="true">#</a> Sorting and Comparable interface</h4><p>The interface defines a <code>compareTo(Object obj)</code>method which any class can override this method to make a comparison between two instances. For example, if <code>obj1.compareTo(obj2)</code> return 0, it means two objects are equal; if it returns a positive number, it means the <code>obj1</code> is bigger than <code>obj2</code>.</p><p>The element of a treeSet <strong>needs to have</strong> a defined <code>compareTo()</code> method, and the treeSet will use this method to sort the elements. Default is ascending. (å‡åºï¼Œä»å°åˆ°å¤§)</p><p>We can also pass a comparator when initialising the treeSet. For example:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p1<span class="token punctuation">.</span>age <span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">;</span>
        <span class="token class-name">Person</span> p2 <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
        <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> comparator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Person</span> o1<span class="token punctuation">,</span> <span class="token class-name">Person</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//decending age å¹´é¾„è¶Šå°è¶Šé å</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>o1<span class="token punctuation">.</span>age<span class="token operator">&lt;</span>o2<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>o1<span class="token punctuation">.</span>age<span class="token operator">&gt;</span>o2<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>comparator<span class="token punctuation">)</span><span class="token punctuation">;</span>
        set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Result: [Person[age=30], Person[age=20]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Note: Changing an inserted element will NOT change the position of the element. So it is a best practice that do not change the value after insertion</strong></p><h3 id="_4-3-enumset" tabindex="-1"><a class="header-anchor" href="#_4-3-enumset" aria-hidden="true">#</a> 4.3. EnumSet</h3><p>EnumSet is designed for enum type. All the elements in a enumSet must be a value of the same enum type. The elements in a enumSet is also sorted by the definition order in the enum class.</p><ul><li>Non-Null</li><li>NOT Thread-safe</li></ul><h3 id="_4-4-performance-comparison" tabindex="-1"><a class="header-anchor" href="#_4-4-performance-comparison" aria-hidden="true">#</a> 4.4 Performance comparison</h3><p><strong>EnumSet&gt;HashSet&gt;LinkedHashSet&gt;TreeSet</strong></p><h4 id="usage-recommandation" tabindex="-1"><a class="header-anchor" href="#usage-recommandation" aria-hidden="true">#</a> Usage Recommandation</h4><ul><li>TreeSet: Need a sorted set å½“éœ€è¦ä¸€ä¸ªç‰¹å®šæ’åºçš„é›†åˆæ—¶</li><li>ENumSet: Need to save enum values å½“éœ€è¦ä¿å­˜æšä¸¾ç±»çš„æšä¸¾å€¼æ—¶</li><li>HashSet: More insertion and query ops: å½“ç»å¸¸ä½¿ç”¨æ·»åŠ ã€æŸ¥è¯¢æ“ä½œæ—¶</li><li>LinkedHashSet: Insertion sorting or more deletion and iteration å½“ç»å¸¸æ’å…¥æ’åºæˆ–ä½¿ç”¨åˆ é™¤ã€æ’å…¥åŠéå†æ“ä½œæ—¶ã€‚</li></ul><h2 id="_5-list-implementation" tabindex="-1"><a class="header-anchor" href="#_5-list-implementation" aria-hidden="true">#</a> 5. List Implementation</h2><h3 id="_5-1-arraylist-and-vector" tabindex="-1"><a class="header-anchor" href="#_5-1-arraylist-and-vector" aria-hidden="true">#</a> 5.1 ArrayList and Vector</h3><h4 id="initialisation-and-dynamic-scaling" tabindex="-1"><a class="header-anchor" href="#initialisation-and-dynamic-scaling" aria-hidden="true">#</a> Initialisation and dynamic scaling</h4><p>ArrayList initialisation (JDK 1.8):</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//åŠ¨æ€Objectæ•°ç»„ï¼Œç”¨æ¥ä¿å­˜åŠ å…¥åˆ°ArrayListçš„å…ƒç´ </span>
<span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> elementData<span class="token punctuation">;</span>

<span class="token comment">//ArrayListçš„æ„é€ å‡½æ•°ï¼Œä¼ å…¥å‚æ•°ä¸ºæ•°ç»„å¤§å°</span>
<span class="token keyword">public</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token keyword">int</span> initialCapacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>initialCapacity <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//åˆ›å»ºä¸€ä¸ªå¯¹åº”å¤§å°çš„æ•°ç»„å¯¹è±¡</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>elementData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span>initialCapacity<span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>initialCapacity <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">//ä¼ å…¥æ•°å­—ä¸º0ï¼Œå°†elementData æŒ‡å®šä¸ºä¸€ä¸ªé™æ€ç±»å‹çš„ç©ºæ•°ç»„</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>elementData <span class="token operator">=</span> <span class="token constant">EMPTY_ELEMENTDATA</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
       <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//ä¸æŒ‡å®šåˆå§‹å¤§å°ï¼Œä¸º10</span>
<span class="token keyword">public</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>elementData <span class="token operator">=</span> <span class="token constant">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When adding an element into an arrayList: the <code>ensureCapacityInternal</code> is called to make sure that there are enough space for it. If not enough, it will copy the old and allocate a new array with enough space</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">ensureCapacityInternal</span><span class="token punctuation">(</span>size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ•°ç»„çš„å¤§å°å¢åŠ 1</span>
    elementData<span class="token punctuation">[</span>size<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">grow</span><span class="token punctuation">(</span><span class="token keyword">int</span> minCapacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//ç”Ÿæˆå¤§å°åˆé€‚çš„newCapacity</span>
  	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token comment">//ä¸‹é¢è¿™è¡Œå°±æ˜¯è¿›è¡Œäº†æ•°ç»„æ‰©å®¹</span>
    elementData <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>elementData<span class="token punctuation">,</span> newCapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Two methods can be used to change the size of an arrayList:</p><ul><li><strong>void ensureCapacity(int minCapacity):</strong> å¦‚æœ‰å¿…è¦ï¼Œå¢åŠ æ­¤ ArrayList å®ä¾‹çš„å®¹é‡ï¼Œä»¥ç¡®ä¿å®ƒè‡³å°‘èƒ½å¤Ÿå®¹çº³æœ€å°å®¹é‡å‚æ•°æ‰€æŒ‡å®šçš„å…ƒç´ æ•°ã€‚</li><li><strong>void trimToSize():</strong> å°†æ­¤ ArrayList å®ä¾‹çš„å®¹é‡è°ƒæ•´ä¸ºåˆ—è¡¨çš„å½“å‰å¤§å°ã€‚</li></ul><h4 id="difference-between-arraylist-and-vector" tabindex="-1"><a class="header-anchor" href="#difference-between-arraylist-and-vector" aria-hidden="true">#</a> Difference between ArrayList and Vector</h4><ol><li>ArrayList is <strong>NOT thread-safe</strong>ï¼ŒVector is <strong>thread-safe</strong>.</li><li>The performance of Vector is lower.</li></ol><h4 id="iteration" tabindex="-1"><a class="header-anchor" href="#iteration" aria-hidden="true">#</a> Iteration</h4><ol><li>Iterator</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span> value <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">Iterator</span> iter <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Random access: ArrayList implement the RandomAccess Interface</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span> value <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> size <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    value <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>For-each loop</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span> value <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> integ<span class="token operator">:</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    value <span class="token operator">=</span> integ<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Performance: Random access &gt; For-each loop &gt; Iterator</strong></p><h3 id="_5-2-stack" tabindex="-1"><a class="header-anchor" href="#_5-2-stack" aria-hidden="true">#</a> 5.2 Stack</h3><p>Stack is a subclass of Vector</p><ul><li>Peek(): check the top element without removing it</li><li>Pop(): check and remove the top element</li><li>Push(): add an element to the top of the stack</li></ul><p>The performance of Stack is low so it is recommend to use LinkedList to implement stack.</p><h3 id="_5-3-linkedlist" tabindex="-1"><a class="header-anchor" href="#_5-3-linkedlist" aria-hidden="true">#</a> 5.3 LinkedList</h3><ul><li>Lower random access performance, higher insertion &amp; deletion performance</li><li>Implemented <code>Deque</code> interface, can be used to implement <strong>stack and queue</strong>.</li><li>NOT Thread-safe</li></ul><h4 id="new-methods-xxxfirst-and-xxxlast" tabindex="-1"><a class="header-anchor" href="#new-methods-xxxfirst-and-xxxlast" aria-hidden="true">#</a> New methods: xxxFirst() and xxxLast()</h4><ul><li>**void addFirst(E e)ğŸ˜—*å°†æŒ‡å®šå…ƒç´ æ’å…¥æ­¤åˆ—è¡¨çš„å¼€å¤´ã€‚</li><li><strong>void addLast(E e):</strong> å°†æŒ‡å®šå…ƒç´ æ·»åŠ åˆ°æ­¤åˆ—è¡¨çš„ç»“å°¾ã€‚</li><li><strong>E getFirst(E e):</strong> è¿”å›æ­¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li><li><strong>E getLast(E e):</strong> è¿”å›æ­¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li><strong>boolean offerFirst(E e):</strong> åœ¨æ­¤åˆ—è¡¨çš„å¼€å¤´æ’å…¥æŒ‡å®šçš„å…ƒç´ ã€‚</li><li><strong>boolean offerLast(E e):</strong> åœ¨æ­¤åˆ—è¡¨æœ«å°¾æ’å…¥æŒ‡å®šçš„å…ƒç´ ã€‚</li><li><strong>E peekFirst(E e):</strong> è·å–ä½†ä¸ç§»é™¤æ­¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼›å¦‚æœæ­¤åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚</li><li><strong>E peekLast(E e):</strong> è·å–ä½†ä¸ç§»é™¤æ­¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼›å¦‚æœæ­¤åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚</li><li><strong>E pollFirst(E e):</strong> è·å–å¹¶ç§»é™¤æ­¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼›å¦‚æœæ­¤åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚</li><li><strong>E pollLast(E e):</strong> è·å–å¹¶ç§»é™¤æ­¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼›å¦‚æœæ­¤åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚</li><li><strong>E removeFirst(E e):</strong> ç§»é™¤å¹¶è¿”å›æ­¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li><li><strong>E removeLast(E e):</strong> ç§»é™¤å¹¶è¿”å›æ­¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li><strong>boolean removeFirstOccurrence(Objcet o):</strong> ä»æ­¤åˆ—è¡¨ä¸­ç§»é™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„æŒ‡å®šå…ƒç´ ï¼ˆä»å¤´éƒ¨åˆ°å°¾éƒ¨éå†åˆ—è¡¨æ—¶ï¼‰ã€‚</li><li><strong>boolean removeLastOccurrence(Objcet o):</strong> ä»æ­¤åˆ—è¡¨ä¸­ç§»é™¤æœ€åä¸€æ¬¡å‡ºç°çš„æŒ‡å®šå…ƒç´ ï¼ˆä»å¤´éƒ¨åˆ°å°¾éƒ¨éå†åˆ—è¡¨æ—¶ï¼‰ã€‚</li></ul><h4 id="source-code" tabindex="-1"><a class="header-anchor" href="#source-code" aria-hidden="true">#</a> Source code</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//æˆå‘˜å˜é‡ï¼šè¡¨å¤´ï¼Œè¡¨å°¾</span>
<span class="token keyword">transient</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> first<span class="token punctuation">;</span>
<span class="token keyword">transient</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> last<span class="token punctuation">;</span>

<span class="token comment">//é»˜è®¤æ„é€ å‡½æ•°ï¼Œè¡¨ç¤ºåˆ›å»ºä¸€ä¸ªç©ºé“¾è¡¨</span>
<span class="token keyword">public</span> <span class="token class-name">LinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">//è¡¨ç¤ºé›†åˆå…ƒç´ çš„å€¼</span>
    <span class="token class-name">E</span> item<span class="token punctuation">;</span>
    
   	<span class="token comment">//æŒ‡å‘ä¸‹ä¸ªå…ƒç´ </span>
    <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> next<span class="token punctuation">;</span>
    
 		<span class="token comment">//æŒ‡å‘ä¸Šä¸ªå…ƒç´ </span>
    <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> prev<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Add ellement to the last</span>
<span class="token keyword">void</span> <span class="token function">linkLast</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> l <span class="token operator">=</span> last<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> newNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> e<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    last <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        first <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        l<span class="token punctuation">.</span>next <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
    modCount<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Get element</span>
<span class="token keyword">public</span> <span class="token class-name">E</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">checkElementIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ£€æŸ¥ç´¢å¼•æ˜¯å¦æœ‰æ•ˆ</span>
    <span class="token keyword">return</span> <span class="token function">node</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">.</span>item<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Compare the index with 1/2 position</span>
<span class="token comment">//If smaller, starting interation from head</span>
<span class="token comment">//If bigger, starting from tail</span>
<span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">node</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// assert isElementIndex(index);</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token punctuation">(</span>size <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> x <span class="token operator">=</span> first<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            x <span class="token operator">=</span> x<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> x <span class="token operator">=</span> last<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> index<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
            x <span class="token operator">=</span> x<span class="token punctuation">.</span>prev<span class="token punctuation">;</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-4-performance-comparison" tabindex="-1"><a class="header-anchor" href="#_5-4-performance-comparison" aria-hidden="true">#</a> 5.4 Performance comparison</h3><ul><li>ArrayList: Better iteration and random access performance</li><li>LinkedList: Better insertion and deletion performance</li><li>Need thread-safe: vector</li></ul><h2 id="_6-queue" tabindex="-1"><a class="header-anchor" href="#_6-queue" aria-hidden="true">#</a> 6. Queue</h2><ul><li>FIFO, using <em>offer</em> to insert to the last and using <em>poll</em> to get the head</li><li>typically no random access</li></ul><h3 id="_6-1-priorityqueue" tabindex="-1"><a class="header-anchor" href="#_6-1-priorityqueue" aria-hidden="true">#</a> 6.1 PriorityQueue</h3><ul><li>The data in this queue are sorted using a <strong>comparator</strong></li><li>When using <code>peek()</code> or <code>poll()</code> to get the first elements, it will return the <strong>prioritised element</strong> instead our the first-in element.</li><li>NOT Thread-safe, non-null</li></ul><h4 id="sorting-methods" tabindex="-1"><a class="header-anchor" href="#sorting-methods" aria-hidden="true">#</a> Sorting methods</h4><ul><li><strong>Natural sorting</strong> (the element type should implement <code>Comparable</code> interface)</li><li>Or we can assign a <strong>Comparator</strong></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> qi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     qi<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     qi<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     qi<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     qi<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     qi<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>qi<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>qi<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">//DESC</span>
     <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> cmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> e1<span class="token punctuation">,</span> <span class="token class-name">Integer</span> e2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> e2 <span class="token operator">-</span> e1<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> q2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
     q2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     q2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     q2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     q2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>q2<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="source-code-1" tabindex="-1"><a class="header-anchor" href="#source-code-1" aria-hidden="true">#</a> Source code</h4><ul><li>It is a dynamic array, the same as the <code>ArrayList</code></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">PriorityQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token constant">DEFAULT_INITIAL_CAPACITY</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token class-name">PriorityQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> initialCapacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>initialCapacity<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token class-name">PriorityQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> initialCapacity<span class="token punctuation">,</span>
                         <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> comparator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Note: This restriction of at least one is not actually needed,</span>
    <span class="token comment">// but continues for 1.5 compatibility</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>initialCapacity <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span>initialCapacity<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>comparator <span class="token operator">=</span> comparator<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">offer</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    modCount<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> size<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
        <span class="token function">grow</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Extend the array if necessary</span>
    size <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        <span class="token function">siftUp</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-deque-interface-and-arraydeque-implementation" tabindex="-1"><a class="header-anchor" href="#_6-2-deque-interface-and-arraydeque-implementation" aria-hidden="true">#</a> 6.2 Deque Interface and ArrayDeque Implementation</h3><ul><li>The <code>LinkedList</code> also implement the <code>Deque</code> Interface</li><li>Not Thread-safe, non-null</li><li>Can be used for both Stack and Queue</li></ul><p>â€‹ <img src="https://pics.yujieliu.com/blog/2023/10/0946f20c966a9f24055d633b59828fb8." alt="img"></p><p>â€‹ <img src="https://pics.yujieliu.com/blog/2023/10/6909f90ca3f467620696f0b36d62c363." alt="img"></p><h4 id="arraydeque-sourcecode" tabindex="-1"><a class="header-anchor" href="#arraydeque-sourcecode" aria-hidden="true">#</a> ArrayDeque sourcecode</h4><ul><li>An <strong>circular array</strong> with 16 size by default and can be dynamic scaling</li></ul><p>Two variables, the <code>head</code> and the <code>tail</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">transient</span> <span class="token keyword">int</span> head<span class="token punctuation">;</span>
<span class="token keyword">transient</span> <span class="token keyword">int</span> tail<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Both <code>head</code> and <code>tail</code> are initialized to 0 index.</p><p>When adding to the front, <code>head--</code> and insert; when adding to the end, <code>tail++</code> and insert. Because this is a circular array, the head will point to the end of the array when insertion.</p><p>The following figure shows that 4 elements are inserted to the head, and 2 to the tail.</p><p><img src="https://pics.yujieliu.com/blog/2023/10/21f20ac15d923a5d3c3233da9b9c060f." alt="img"></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addFirst</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    elements<span class="token punctuation">[</span>head <span class="token operator">=</span> <span class="token punctuation">(</span>head <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>elements<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> tail<span class="token punctuation">)</span>
        <span class="token function">doubleCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>head = (head - 1) &amp; (elements.length - 1)</code> makes sure that the index will not be negative.</p><p>When the <code>head==tail</code>, the array will be scaled dynamically to <code>2*size</code>.</p><ul><li>Allocate a double size array</li><li>Then, copy the right part of the head (green part in the figure)</li><li>Finally, copy the left part of the head (grey part)</li></ul><p><img src="https://pics.yujieliu.com/blog/2023/10/e1292aa2cdfb1e5cfb08e10d700c9654." alt="img"></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doubleCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span> head <span class="token operator">==</span> tail<span class="token punctuation">;</span>
    <span class="token keyword">int</span> p <span class="token operator">=</span> head<span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">int</span> r <span class="token operator">=</span> n <span class="token operator">-</span> p<span class="token punctuation">;</span> <span class="token comment">// num of elements of right head</span>
    <span class="token keyword">int</span> newCapacity <span class="token operator">=</span> n <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//åŸç©ºé—´çš„2å€</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newCapacity <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">&quot;Sorry, deque too big&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span>newCapacity<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>elements<span class="token punctuation">,</span> p<span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Copy the right part</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>elements<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> r<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Copy the left part</span>
    elements <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">E</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>a<span class="token punctuation">;</span>
    head <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    tail <span class="token operator">=</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-map" tabindex="-1"><a class="header-anchor" href="#_7-map" aria-hidden="true">#</a> 7. Map</h2><h3 id="_7-1-hashmap" tabindex="-1"><a class="header-anchor" href="#_7-1-hashmap" aria-hidden="true">#</a> 7.1 HashMap</h3><p>HashMap æ˜¯ä¸€ä¸ªæ•£åˆ—è¡¨ï¼Œå®ƒå­˜å‚¨çš„å†…å®¹æ˜¯é”®å€¼å¯¹(key-value) æ˜ å°„(mapping)ã€‚</p><p>HashMapå’ŒHashtableéƒ½æ˜¯Mapæ¥å£çš„ç»å…¸å®ç°ç±»ï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»å®Œå…¨ç±»ä¼¼äºArrayListå’ŒVectorçš„å…³ç³»ã€‚ç”±äºHashtableæ˜¯ä¸ªå¤è€çš„Mapå®ç°ç±»ï¼Œéœ€è¦æ–¹æ³•æ¯”è¾ƒç¹çï¼Œä¸ç¬¦åˆMapæ¥å£çš„è§„èŒƒã€‚</p><h4 id="hashmap-and-hashtable" tabindex="-1"><a class="header-anchor" href="#hashmap-and-hashtable" aria-hidden="true">#</a> HashMap and Hashtable</h4><p>1.Hashtableæ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„Mapå®ç°ï¼Œä½†HashMapæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„å®ç°ï¼Œæ‰€ä»¥HashMapæ¯”Hashtableçš„æ€§èƒ½å¥½ä¸€äº›ï¼›ä½†å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªMapå¯¹è±¡æ—¶ï¼Œæ˜¯ç›—ç”¨Hashtableå®ç°ç±»ä¼šæ›´å¥½ã€‚</p><p>2.Hashtableä¸å…è®¸ä½¿ç”¨nullä½œä¸ºkeyå’Œvalueï¼Œå¦‚æœè¯•å›¾æŠŠnullå€¼æ”¾è¿›Hashtableä¸­ï¼Œå°†ä¼šå¼•å‘NullPointerExceptionå¼‚å¸¸ï¼›ä½†æ˜¯HashMapå¯ä»¥ä½¿ç”¨nullä½œä¸ºkeyæˆ–valueã€‚</p><h4 id="recognise-keys-and-values-are-equal-or-not" tabindex="-1"><a class="header-anchor" href="#recognise-keys-and-values-are-equal-or-not" aria-hidden="true">#</a> Recognise keys and values are equal or not</h4><p><strong>keyåˆ¤æ–­ç›¸ç­‰çš„æ ‡å‡†</strong></p><p>ç±»ä¼¼äºHashSetï¼ŒHashMapä¸Hashtableåˆ¤æ–­ä¸¤ä¸ªkeyç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ªkeyé€šè¿‡equals()æ–¹æ³•æ¯”è¾ƒè¿”å›true,ä¸¤ä¸ªkeyçš„hashCodeå€¼ä¹Ÿç›¸ç­‰ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªkeyæ˜¯ç›¸ç­‰çš„ã€‚</p><p><strong>æ³¨æ„ï¼šç”¨ä½œkeyçš„å¯¹è±¡å¿…é¡»å®ç°äº†hashCode()æ–¹æ³•å’Œequals()æ–¹æ³•ã€‚å¹¶ä¸”æœ€å¥½ä¸¤è€…è¿”å›çš„ç»“æœä¸€è‡´ï¼Œå³å¦‚æœequals()è¿”å›trueï¼ŒhashCode()å€¼ç›¸ç­‰ã€‚</strong></p><p>**å¦ï¼š**å¦‚æœæ˜¯åŠ å…¥HashMapçš„keyæ˜¯ä¸ªå¯å˜å¯¹è±¡ï¼Œåœ¨åŠ å…¥åˆ°é›†åˆååˆä¿®æ”¹keyçš„æˆå‘˜å˜é‡çš„å€¼ï¼Œå¯èƒ½å¯¼è‡´hashCode()å€¼ä»¥åŠequal()çš„æ¯”è¾ƒç»“æœå‘ç”Ÿå˜åŒ–ï¼Œæ— æ³•è®¿é—®åˆ°è¯¥keyã€‚ä¸€èˆ¬æƒ…å†µä¸‹ä¸è¦ä¿®æ”¹ã€‚</p><p><strong>valueåˆ¤æ–­ç›¸ç­‰çš„æ ‡å‡†</strong></p><p>HashMapä¸Hashtableåˆ¤æ–­ä¸¤ä¸ªvalueç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šåªè¦ä¸¤ä¸ªå¯¹è±¡é€šè¿‡equals()æ–¹æ³•æ¯”è¾ƒè¿”å›trueå³å¯ã€‚</p><p>**æ³¨æ„ï¼š**HashMapä¸­keyæ‰€ç»„æˆçš„é›†åˆå…ƒç´ ä¸èƒ½é‡å¤ï¼Œvalueæ‰€ç»„æˆçš„é›†åˆå…ƒç´ å¯ä»¥é‡å¤ã€‚</p><h4 id="source-code-2" tabindex="-1"><a class="header-anchor" href="#source-code-2" aria-hidden="true">#</a> Source code</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// é»˜è®¤æ„é€ å‡½æ•°ã€‚</span>
<span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// æŒ‡å®šâ€œå®¹é‡å¤§å°â€çš„æ„é€ å‡½æ•°</span>
<span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token keyword">int</span> capacity<span class="token punctuation">)</span>

<span class="token comment">// æŒ‡å®šâ€œå®¹é‡å¤§å°â€å’Œâ€œåŠ è½½å› å­â€çš„æ„é€ å‡½æ•°</span>
<span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token keyword">int</span> capacity<span class="token punctuation">,</span> <span class="token keyword">float</span> loadFactor<span class="token punctuation">)</span>

<span class="token comment">// åŒ…å«â€œå­Mapâ€çš„æ„é€ å‡½æ•°</span>
<span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®¹é‡ (capacity) æ˜¯å“ˆå¸Œè¡¨çš„å®¹é‡ï¼Œåˆå§‹å®¹é‡æ˜¯å“ˆå¸Œè¡¨åœ¨åˆ›å»ºæ—¶çš„å®¹é‡ï¼ˆå³<code>DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4</code>ï¼‰ã€‚</li><li>åŠ è½½å› å­ (loadFactor) æ˜¯å“ˆå¸Œè¡¨åœ¨å…¶å®¹é‡è‡ªåŠ¨å¢åŠ ä¹‹å‰å¯ä»¥è¾¾åˆ°å¤šæ»¡çš„ä¸€ç§å°ºåº¦ã€‚å½“å“ˆå¸Œè¡¨ä¸­çš„æ¡ç›®æ•°è¶…å‡ºäº†åŠ è½½å› å­ä¸å½“å‰å®¹é‡çš„ä¹˜ç§¯æ—¶ï¼Œåˆ™è¦å¯¹è¯¥å“ˆå¸Œè¡¨è¿›è¡Œ resizeæ“ä½œï¼ˆå³é‡å»ºå†…éƒ¨æ•°æ®ç»“æ„ï¼‰ï¼Œä»è€Œå°†å“ˆå¸Œè¡¨æ‰©å®¹è‡³åŸæ¥çš„ä¸¤å€ã€‚é€šå¸¸ï¼Œé»˜è®¤åŠ è½½å› å­æ˜¯ 0.75(å³<code>DEFAULT_LOAD_FACTOR = 0.75f</code>), è¿™æ˜¯åœ¨æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¸Šå¯»æ±‚ä¸€ç§æŠ˜è¡·ã€‚åŠ è½½å› å­è¿‡é«˜è™½ç„¶å‡å°‘äº†ç©ºé—´å¼€é”€ï¼Œä½†åŒæ—¶ä¹Ÿå¢åŠ äº†æŸ¥è¯¢æˆæœ¬ï¼ˆåœ¨å¤§å¤šæ•° HashMap ç±»çš„æ“ä½œä¸­ï¼ŒåŒ…æ‹¬ get å’Œ put æ“ä½œï¼Œéƒ½åæ˜ äº†è¿™ä¸€ç‚¹ï¼‰ã€‚åœ¨è®¾ç½®å®¹é‡æ—¶åº”è¯¥è€ƒè™‘åˆ°æ˜ å°„ä¸­æ‰€éœ€çš„æ¡ç›®æ•°åŠå…¶åŠ è½½å› å­ï¼Œä»¥ä¾¿æœ€å¤§é™åº¦åœ°å‡å°‘ resizeæ“ä½œæ¬¡æ•°ã€‚å¦‚æœå®¹é‡å¤§äºæœ€å¤§æ¡ç›®æ•°é™¤ä»¥åŠ è½½å› å­ï¼Œåˆ™ä¸ä¼šå‘ç”Ÿ rehash æ“ä½œã€‚</li></ul><h4 id="node" tabindex="-1"><a class="header-anchor" href="#node" aria-hidden="true">#</a> Node</h4><p>ä¸€èˆ¬å®ç°å“ˆå¸Œè¡¨çš„æ–¹æ³•é‡‡ç”¨â€œæ‹‰é“¾æ³•â€ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºâ€œé“¾è¡¨çš„æ•°ç»„â€ã€‚å¦‚æœhash(key)å€¼ç›¸ç­‰ï¼Œåˆ™éƒ½å­˜å…¥è¯¥hashå€¼æ‰€å¯¹åº”çš„é“¾è¡¨ä¸­ã€‚<strong>æ‰€ä»¥æ¯ä¸ªæ•°ç»„å…ƒç´ ä»£è¡¨ä¸€ä¸ªé“¾è¡¨ï¼Œå…¶ä¸­çš„å…±åŒç‚¹å°±æ˜¯hash(key)ç›¸ç­‰ã€‚</strong></p><p><img src="https://pics.yujieliu.com/blog/2023/11/d284202c0a7e10626ea745811a1fec5c." alt="img"></p><h4 id="iteration-1" tabindex="-1"><a class="header-anchor" href="#iteration-1" aria-hidden="true">#</a> Iteration</h4><p>1.éå†HashMapçš„é”®å€¼å¯¹</p><p>ç¬¬ä¸€æ­¥ï¼šæ ¹æ®entrySet()è·å–HashMapçš„â€œé”®å€¼å¯¹â€çš„Seté›†åˆã€‚ ç¬¬äºŒæ­¥ï¼šé€šè¿‡Iteratorè¿­ä»£å™¨éå†â€œç¬¬ä¸€æ­¥â€å¾—åˆ°çš„é›†åˆã€‚</p><p>2.éå†HashMapçš„é”®</p><p>ç¬¬ä¸€æ­¥ï¼šæ ¹æ®keySet()è·å–HashMapçš„â€œé”®â€çš„Seté›†åˆã€‚ ç¬¬äºŒæ­¥ï¼šé€šè¿‡Iteratorè¿­ä»£å™¨éå†â€œç¬¬ä¸€æ­¥â€å¾—åˆ°çš„é›†åˆã€‚</p><p>3.éå†HashMapçš„å€¼</p><p>ç¬¬ä¸€æ­¥ï¼šæ ¹æ®value()è·å–HashMapçš„â€œå€¼â€çš„é›†åˆã€‚ ç¬¬äºŒæ­¥ï¼šé€šè¿‡Iteratorè¿­ä»£å™¨éå†â€œç¬¬ä¸€æ­¥â€å¾—åˆ°çš„é›†åˆã€‚</p><h3 id="_7-2-linkedhashmap" tabindex="-1"><a class="header-anchor" href="#_7-2-linkedhashmap" aria-hidden="true">#</a> 7.2 LinkedHashMap</h3><p>HashSetæœ‰ä¸€ä¸ªLinkedHashSetå­ç±»ï¼ŒHashMapä¹Ÿæœ‰ä¸€ä¸ªLinkedHashMapå­ç±»ï¼›LinkedHashMapä½¿ç”¨åŒå‘é“¾è¡¨æ¥ç»´æŠ¤key-valueå¯¹çš„æ¬¡åºã€‚</p><p>LinkedHashMapéœ€è¦ç»´æŠ¤å…ƒç´ çš„æ’å…¥é¡ºåºï¼Œå› æ­¤æ€§èƒ½ç•¥ä½äºHashMapçš„æ€§èƒ½ï¼›ä½†æ˜¯å› ä¸ºå®ƒä»¥é“¾è¡¨æ¥ç»´æŠ¤å†…éƒ¨é¡ºåºï¼Œæ‰€ä»¥åœ¨è¿­ä»£è®¿é—®<strong>Mapé‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶æœ‰è¾ƒå¥½çš„æ€§èƒ½</strong>ã€‚è¿­ä»£è¾“å‡ºLinkedHashMapçš„å…ƒç´ æ—¶ï¼Œå°†ä¼šæŒ‰ç…§æ·»åŠ key-valueå¯¹çš„é¡ºåºè¾“å‡ºã€‚</p><p><strong>æœ¬è´¨ä¸Šæ¥è®²ï¼ŒLinkedHashMap=æ•£åˆ—è¡¨+å¾ªç¯åŒå‘é“¾è¡¨</strong></p><h3 id="_7-3-treemap" tabindex="-1"><a class="header-anchor" href="#_7-3-treemap" aria-hidden="true">#</a> 7.3 TreeMap</h3><p>reeMapæ˜¯SortedMapæ¥å£çš„å®ç°ç±»ã€‚TreeMap æ˜¯ä¸€ä¸ª<strong>æœ‰åºçš„key-valueé›†åˆ</strong>ï¼Œå®ƒæ˜¯é€šè¿‡çº¢é»‘æ ‘å®ç°çš„ï¼Œæ¯ä¸ªkey-valueå¯¹å³ä½œä¸ºçº¢é»‘æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><h4 id="treemap-sorting-methods" tabindex="-1"><a class="header-anchor" href="#treemap-sorting-methods" aria-hidden="true">#</a> TreeMap sorting methods</h4><p>TreeMapæœ‰ä¸¤ç§æ’åºæ–¹å¼ï¼Œå’ŒTreeSetä¸€æ ·ã€‚</p><p>è‡ªç„¶æ’åºï¼šTreeMapçš„æ‰€æœ‰keyå¿…é¡»å®ç°Comparableæ¥å£ï¼Œè€Œä¸”æ‰€æœ‰çš„keyåº”è¯¥æ˜¯åŒä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œå¦åˆ™ä¼šæŠ›å‡ºClassCastExceptionå¼‚å¸¸ã€‚</p><p>å®šåˆ¶æ’åºï¼šåˆ›å»ºTreeMapæ—¶ï¼Œä¼ å…¥ä¸€ä¸ªComparatorå¯¹è±¡ï¼Œè¯¥å¯¹è±¡è´Ÿè´£å¯¹TreeMapä¸­çš„æ‰€æœ‰keyè¿›è¡Œæ’åºã€‚</p><h4 id="recognise-keys-and-values-are-equal-or-not-1" tabindex="-1"><a class="header-anchor" href="#recognise-keys-and-values-are-equal-or-not-1" aria-hidden="true">#</a> Recognise keys and values are equal or not</h4><p>ç±»ä¼¼äºTreeSetä¸­åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†ï¼ŒTreeMapä¸­åˆ¤æ–­ä¸¤ä¸ªkeyç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ªkeyé€šè¿‡compareTo()æ–¹æ³•è¿”å›0ï¼ŒTreeMapå³è®¤ä¸ºè¿™ä¸¤ä¸ªkeyæ˜¯ç›¸ç­‰çš„ã€‚</p><p>TreeMapä¸­åˆ¤æ–­ä¸¤ä¸ªvalueç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ªvalueé€šè¿‡equals()æ–¹æ³•æ¯”è¾ƒè¿”å›trueã€‚</p><p>**æ³¨æ„ï¼š**å¦‚æœä½¿ç”¨è‡ªå®šä¹‰ç±»ä½œä¸ºTreeMapçš„keyï¼Œä¸”æƒ³è®©TreeMapè‰¯å¥½åœ°å·¥ä½œï¼Œåˆ™é‡å†™è¯¥ç±»çš„equals()æ–¹æ³•å’ŒcompareTo()æ–¹æ³•æ—¶åº”ä¿æŒä¸€è‡´çš„è¿”å›ç»“æœï¼šä¸¤ä¸ªkeyé€šè¿‡equals()æ–¹æ³•æ¯”è¾ƒè¿”å›trueæ—¶ï¼Œå®ƒä»¬é€šè¿‡compareTo()æ–¹æ³•æ¯”è¾ƒåº”è¯¥è¿”å›0ã€‚å¦‚æœä¸¤ä¸ªæ–¹æ³•çš„è¿”å›ç»“æœä¸ä¸€è‡´ï¼ŒTreeMapä¸Mapæ¥å£çš„è§„åˆ™å°±ä¼šå†²çªã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œä¸TreeSetç±»ä¼¼ï¼ŒTreeMapæ ¹æ®æ’åºç‰¹æ€§ï¼Œä¹Ÿæ·»åŠ äº†ä¸€éƒ¨åˆ†æ–°çš„æ–¹æ³•ï¼Œä¸TreeSetä¸­çš„ä¸€è‡´ã€‚</p><h4 id="nature-of-treemap-â€”-r-b-tree" tabindex="-1"><a class="header-anchor" href="#nature-of-treemap-â€”-r-b-tree" aria-hidden="true">#</a> Nature of TreeMap â€” R-B Tree</h4><p>R-B Treeï¼Œå…¨ç§°æ˜¯Red-Black Treeï¼Œåˆç§°ä¸ºâ€œçº¢é»‘æ ‘â€ï¼Œå®ƒä¸€ç§ç‰¹æ®Šçš„äºŒå‰æŸ¥æ‰¾æ ‘ã€‚çº¢é»‘æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½æœ‰å­˜å‚¨ä½è¡¨ç¤ºèŠ‚ç‚¹çš„é¢œè‰²ï¼Œå¯ä»¥æ˜¯çº¢(Red)æˆ–é»‘(Black)ã€‚</p><p>çº¢é»‘æ ‘çš„ç‰¹æ€§: ï¼ˆ1ï¼‰æ¯ä¸ªèŠ‚ç‚¹æˆ–è€…æ˜¯é»‘è‰²ï¼Œæˆ–è€…æ˜¯çº¢è‰²ã€‚ ï¼ˆ2ï¼‰æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚ ï¼ˆ3ï¼‰æ¯ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆNILï¼‰æ˜¯é»‘è‰²ã€‚ [æ³¨æ„ï¼šè¿™é‡Œå¶å­èŠ‚ç‚¹ï¼Œæ˜¯æŒ‡ä¸ºç©º(NILæˆ–NULL)çš„å¶å­èŠ‚ç‚¹ï¼] ï¼ˆ4ï¼‰å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ã€‚ ï¼ˆ5ï¼‰ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„å­å­™èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸ŠåŒ…å«ç›¸åŒæ•°ç›®çš„é»‘èŠ‚ç‚¹ã€‚</p><p>æ³¨æ„ï¼š (01) ç‰¹æ€§(3)ä¸­çš„å¶å­èŠ‚ç‚¹ï¼Œæ˜¯åªä¸ºç©º(NILæˆ–null)çš„èŠ‚ç‚¹ã€‚ (02) ç‰¹æ€§(5)ï¼Œç¡®ä¿æ²¡æœ‰ä¸€æ¡è·¯å¾„ä¼šæ¯”å…¶ä»–è·¯å¾„é•¿å‡ºä¿©å€ã€‚å› è€Œï¼Œçº¢é»‘æ ‘æ˜¯ç›¸å¯¹æ˜¯æ¥è¿‘å¹³è¡¡çš„äºŒå‰æ ‘ã€‚</p><p><img src="https://pics.yujieliu.com/blog/2023/11/c3ec71124d533fdf0953e4ebfa5e18e4." alt="img"></p><h4 id="treemap-iteration" tabindex="-1"><a class="header-anchor" href="#treemap-iteration" aria-hidden="true">#</a> TreeMap Iteration</h4><p>éå†TreeMapçš„é”®å€¼å¯¹</p><p>ç¬¬ä¸€æ­¥ï¼šæ ¹æ®entrySet()è·å–TreeMapçš„â€œé”®å€¼å¯¹â€çš„Seté›†åˆã€‚ ç¬¬äºŒæ­¥ï¼šé€šè¿‡Iteratorè¿­ä»£å™¨éå†â€œç¬¬ä¸€æ­¥â€å¾—åˆ°çš„é›†åˆã€‚</p><p>éå†TreeMapçš„é”®</p><p>ç¬¬ä¸€æ­¥ï¼šæ ¹æ®keySet()è·å–TreeMapçš„â€œé”®â€çš„Seté›†åˆã€‚ ç¬¬äºŒæ­¥ï¼šé€šè¿‡Iteratorè¿­ä»£å™¨éå†â€œç¬¬ä¸€æ­¥â€å¾—åˆ°çš„é›†åˆã€‚</p><p>éå†TreeMapçš„å€¼</p><p>ç¬¬ä¸€æ­¥ï¼šæ ¹æ®value()è·å–TreeMapçš„â€œå€¼â€çš„é›†åˆã€‚ ç¬¬äºŒæ­¥ï¼šé€šè¿‡Iteratorè¿­ä»£å™¨éå†â€œç¬¬ä¸€æ­¥â€å¾—åˆ°çš„é›†åˆã€‚</p><h3 id="_7-4-benchmark" tabindex="-1"><a class="header-anchor" href="#_7-4-benchmark" aria-hidden="true">#</a> 7.4 Benchmark</h3><p>HashMapä¸Hashtableå®ç°æœºåˆ¶å‡ ä¹ä¸€æ ·ï¼Œä½†æ˜¯HashMapæ¯”Hashtableæ€§èƒ½æ›´å¥½äº›ã€‚</p><p>LinkedHashMapæ¯”HashMapæ…¢ä¸€ç‚¹ï¼Œå› ä¸ºå®ƒéœ€è¦ç»´æŠ¤ä¸€ä¸ªåŒå‘é“¾è¡¨ã€‚</p><p>TreeMapæ¯”HashMapä¸Hashtableæ…¢ï¼ˆå°¤å…¶åœ¨æ’å…¥ã€åˆ é™¤key-valueæ—¶æ›´æ…¢ï¼‰ï¼Œå› ä¸ºTreeMapåº•å±‚é‡‡ç”¨çº¢é»‘æ ‘æ¥ç®¡ç†é”®å€¼å¯¹ã€‚</p><p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p><ul><li>ä¸€èˆ¬çš„åº”ç”¨åœºæ™¯ï¼Œå°½å¯èƒ½å¤šè€ƒè™‘ä½¿ç”¨HashMapï¼Œå› ä¸ºå…¶ä¸ºå¿«é€ŸæŸ¥è¯¢è®¾è®¡çš„ã€‚</li><li>å¦‚æœéœ€è¦ç‰¹å®šçš„æ’åºæ—¶ï¼Œè€ƒè™‘ä½¿ç”¨TreeMapã€‚</li><li>å¦‚æœä»…ä»…éœ€è¦æ’å…¥çš„é¡ºåºæ—¶ï¼Œè€ƒè™‘ä½¿ç”¨LinkedHashMapã€‚</li></ul>`,149);function h(v,b){const e=o("ExternalLinkIcon");return c(),i("div",null,[u,a("p",null,[n("The function definitions can refer to "),a("a",r,[n("here"),t(e)]),n(".")]),d,a("p",null,[n("The function definitions can refer to "),a("a",k,[n("here"),t(e)]),n(".")]),m])}const y=p(l,[["render",h],["__file","java-collection.html.vue"]]);export{y as default};
